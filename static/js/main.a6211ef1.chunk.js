(this["webpackJsonph-test1"]=this["webpackJsonph-test1"]||[]).push([[0],{41:function(e,t,n){e.exports=n(76)},46:function(e,t,n){},47:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getUsers",(function(){return w})),n.d(a,"deleteUser",(function(){return g})),n.d(a,"createUser",(function(){return y})),n.d(a,"editUser",(function(){return j}));var r=n(1),c=n.n(r),l=n(19),u=n.n(l),s=(n(46),n(3)),i=n(21),o=n(15),m=(n(47),n(12)),f=n(9),p=n.n(f),d=n(23),b=n(18),v=n.n(b),h="https://cors-anywhere.herokuapp.com/77.120.241.80:8911/api/users",E="https://cors-anywhere.herokuapp.com/77.120.241.80:8911/api/user/",w=function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get(h);case 3:n=e.sent,t({type:"GET_USERS",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.delete(E+e);case 3:n(w()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post(h,e);case 3:n(w()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(n){v.a.put(E+e,t).then((function(e){n(w())})).catch((function(e){console.log(e)}))}},N=n(11),O=(n(70),n(13)),k=function(e){var t=e.users,n=e.currentPage,a=e.setCurrentPage,r=Math.ceil(t.length/5),l=Array.from(Array(r).keys()).map((function(e){return e+1})),u=l.map((function(e){return c.a.createElement("li",{key:Object(N.a)(),className:n===e?"active pagination__arrow--disable":"waves-effect",onClick:function(t){return function(e,t){e.preventDefault(),a(t)}(t,e)}},c.a.createElement("a",{href:"/"},e))}));return c.a.createElement("ul",{className:"pagination"},c.a.createElement("li",{className:1===n?"disabled pagination__arrow--disable":"waves-effect",onClick:function(){return a(n-1)}},c.a.createElement(O.a,{size:30})),u,c.a.createElement("li",{className:n===r?"disabled pagination__arrow--disable":"waves-effect"},c.a.createElement(O.b,{size:30,onClick:function(){return a(n+1)}})))},x=(n(71),function(e){var t=e.title,n=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"wrapper-title"},t),n)}),C=n(28),U=Object(m.b)((function(e){return e}),a)((function(e){var t=e.getUsers,n=e.deleteUser,a=e.users,l=Object(s.f)(),u=Object(r.useState)(1),i=Object(o.a)(u,2),m=i[0],f=i[1],p=Object(r.useState)(a),d=Object(o.a)(p,2),b=d[0],v=d[1];Object(r.useEffect)((function(){t()}),[t]);Object(r.useEffect)((function(){!function(){var e=1===m?1:5*(m-1)+1,t=5*m,n=a.filter((function(n,a){return a+1>=e&&a+1<=t}));v(n)}()}),[m,a]);var h=b.length>0?b.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.surname),c.a.createElement("td",null,e.desc),c.a.createElement("td",null,c.a.createElement("button",{className:"btn waves-effect blue lighten-2",type:"button",name:"action",onClick:function(){return t=e.id,void l.push("/r-list/update/".concat(t));var t}},c.a.createElement(C.a,null))),c.a.createElement("td",null,c.a.createElement("button",{className:"btn waves-effect red",type:"button",name:"action",onClick:function(){return n(e.id)}},c.a.createElement(O.c,null))))})):null,E=a.length>0?Object.keys(a[0]).map((function(e){if("id"!==e)return c.a.createElement("th",{key:Object(N.a)()},e)})):null,w=a.length>0?c.a.createElement(k,{users:a,currentPage:m,setCurrentPage:f}):null;return c.a.createElement(x,{title:"List"},c.a.createElement("table",{className:"responsive-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,E,c.a.createElement("th",null,c.a.createElement("button",{className:"btn waves-effect blue lighten-2",type:"button"},c.a.createElement(C.a,null))),c.a.createElement("th",null,c.a.createElement("button",{className:"btn waves-effect red",type:"button"},c.a.createElement(O.c,null))))),c.a.createElement("tbody",null,h)),w,c.a.createElement("button",{className:"btn waves-effect waves-light list__button--new",type:"button",name:"action",onClick:function(){l.push("/r-list/new")}},"New"))})),_=n(22),S=n(14),A=(n(73),Object(m.b)((function(e){return e}),a)((function(e){var t=e.createUser,n=e.editUser,a=e.users,l=e.match,u=Object(s.f)(),i=Object(r.useState)({name:"",surname:"",desc:""}),m=Object(o.a)(i,2),f=m[0],p=m[1],d=Object(r.useState)(!1),b=Object(o.a)(d,2),v=b[0],h=b[1];Object(r.useEffect)((function(){if(0===a.length&&u.push("/r-list/"),l.path.includes("update")&&l.params.id){var e=a.find((function(e){return e.id===+l.params.id}));p(e),h(!0)}}),[a]);var E=function(e){return p(Object(S.a)(Object(S.a)({},f),{},Object(_.a)({},e.target.name,e.target.value)))};return c.a.createElement(x,{title:v?"Update the user":"Add a new user"},c.a.createElement("form",{className:"col s12",onSubmit:function(e){if(e.preventDefault(),v){var a=l.params.id;n(a,f)}else t(f);p({name:"",surname:"",desc:""}),u.push("/r-list/")}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("input",{value:f.name,onChange:function(e){return E(e)},id:"name",type:"text",className:"validate",name:"name",required:!0}),c.a.createElement("label",{className:"active",htmlFor:"name"},"Name"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("input",{value:f.surname,onChange:function(e){return E(e)},id:"surname",type:"text",className:"validate",name:"surname",required:!0}),c.a.createElement("label",{className:"active",htmlFor:"surname"},"Surname"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("input",{value:f.desc,onChange:function(e){return E(e)},id:"description",type:"text",className:"validate",name:"desc",required:!0}),c.a.createElement("label",{className:"active",htmlFor:"description"},"Description"))),c.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},v?"Update the user":"Add new user"),c.a.createElement("button",{className:"btn waves-effect blue lighten-2 update__button--back",type:"button",name:"action",onClick:function(){u.push("/r-list/")}},"Back")))}))),F=[{url:"/r-list/",component:U},{url:"/r-list/new",component:A},{url:"/r-list/update/:id",component:A}];var P=function(){var e=F.map((function(e){return c.a.createElement(s.a,{key:Object(N.a)(),exact:!0,path:e.url,component:e.component})}));return c.a.createElement(i.a,null,c.a.createElement("main",{className:"app"},c.a.createElement(s.c,null,e)))},q=n(17),B=n(40),D={users:[]},z=Object(q.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return Object(S.a)(Object(S.a)({},e),{},{users:t.payload});default:return e}}),Object(q.a)(B.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(74),n(75);u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m.a,{store:z},c.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.a6211ef1.chunk.js.map
(this["webpackJsonph-test1"]=this["webpackJsonph-test1"]||[]).push([[0],{39:function(e,t,n){e.exports=n(73)},44:function(e,t,n){},45:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getUsers",(function(){return b})),n.d(a,"deleteUser",(function(){return E})),n.d(a,"createUser",(function(){return h})),n.d(a,"editUser",(function(){return v}));var c=n(1),r=n.n(c),l=n(18),u=n.n(l),o=(n(44),n(3)),i=n(20),s=n(14),m=(n(45),n(11)),f=n(17),d=n.n(f),p="http://77.120.241.80:8911/api/user/",b=function(){return function(e){d.a.get("http://77.120.241.80:8911/api/users").then((function(t){console.log(JSON.stringify(t)),e(function(e){return{type:"GET_USERS",payload:e.data}}(t))})).catch((function(e){console.log(e)}))}},E=function(e){return function(t){d.a.delete(p+e).then((function(e){t(b())})).catch((function(e){console.log(e)}))}},h=function(e){return function(t){d.a.post("http://77.120.241.80:8911/api/users",e).then((function(e){t(b())})).catch((function(e){console.log(e)}))}},v=function(e,t){return function(n){d.a.put(p+e,t).then((function(e){n(b())})).catch((function(e){console.log(e)}))}},g=n(10),w=(n(67),n(12)),N=function(e){var t=e.users,n=e.currentPage,a=e.setCurrentPage,c=Math.ceil(t.length/5),l=Array.from(Array(c).keys()).map((function(e){return e+1})),u=l.map((function(e){return r.a.createElement("li",{key:Object(g.a)(),className:n===e?"active pagination__arrow--disable":"waves-effect",onClick:function(t){return function(e,t){e.preventDefault(),a(t)}(t,e)}},r.a.createElement("a",{href:"/"},e))}));return r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:1===n?"disabled pagination__arrow--disable":"waves-effect",onClick:function(){return a(n-1)}},r.a.createElement(w.a,{size:30})),u,r.a.createElement("li",{className:n===c?"disabled pagination__arrow--disable":"waves-effect"},r.a.createElement(w.b,{size:30,onClick:function(){return a(n+1)}})))},O=(n(68),function(e){var t=e.title,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"wrapper-title"},t),n)}),j=n(26),y=Object(m.b)((function(e){return e}),a)((function(e){var t=e.getUsers,n=e.deleteUser,a=e.users,l=Object(o.f)(),u=Object(c.useState)(1),i=Object(s.a)(u,2),m=i[0],f=i[1],d=Object(c.useState)(a),p=Object(s.a)(d,2),b=p[0],E=p[1];Object(c.useEffect)((function(){t()}),[t]);Object(c.useEffect)((function(){!function(){var e=1===m?1:5*(m-1)+1,t=5*m,n=a.filter((function(n,a){return a+1>=e&&a+1<=t}));console.log(a),console.log(n),console.log(e,t),E(n)}()}),[m,a]);var h=b.length>0?b.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.surname),r.a.createElement("td",null,e.desc),r.a.createElement("td",null,r.a.createElement("button",{className:"btn waves-effect blue lighten-2",type:"button",name:"action",onClick:function(){return t=e.id,void l.push("/update/".concat(t));var t}},r.a.createElement(j.a,null))),r.a.createElement("td",null,r.a.createElement("button",{className:"btn waves-effect red",type:"button",name:"action",onClick:function(){return n(e.id)}},r.a.createElement(w.c,null))))})):null,v=a.length>0?Object.keys(a[0]).map((function(e){if("id"!==e)return r.a.createElement("th",{key:Object(g.a)()},e)})):null,y=a.length>0?r.a.createElement(N,{users:a,currentPage:m,setCurrentPage:f}):null;return r.a.createElement(O,{title:"List"},r.a.createElement("table",{className:"responsive-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,v,r.a.createElement("th",null,r.a.createElement("button",{className:"btn waves-effect blue lighten-2",type:"button"},r.a.createElement(j.a,null))),r.a.createElement("th",null,r.a.createElement("button",{className:"btn waves-effect red",type:"button"},r.a.createElement(w.c,null))))),r.a.createElement("tbody",null,h)),y,r.a.createElement("button",{className:"btn waves-effect waves-light list__button--new",type:"button",name:"action",onClick:function(){l.push("/new")}},"New"))})),k=n(21),C=n(13),S=(n(70),Object(m.b)((function(e){return e}),a)((function(e){var t=e.createUser,n=e.editUser,a=e.users,l=e.match,u=Object(o.f)(),i=Object(c.useState)({name:"",surname:"",desc:""}),m=Object(s.a)(i,2),f=m[0],d=m[1],p=Object(c.useState)(!1),b=Object(s.a)(p,2),E=b[0],h=b[1];Object(c.useEffect)((function(){if(0===a.length&&u.push("/"),l.path.includes("update")&&l.params.id){var e=a.find((function(e){return e.id===+l.params.id}));d(e),h(!0)}}),[a]);var v=function(e){return d(Object(C.a)(Object(C.a)({},f),{},Object(k.a)({},e.target.name,e.target.value)))};return r.a.createElement(O,{title:E?"Update the user":"Add a new user"},r.a.createElement("form",{className:"col s12",onSubmit:function(e){if(e.preventDefault(),E){var a=l.params.id;n(a,f)}else t(f);d({name:"",surname:"",desc:""}),u.push("/")}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{value:f.name,onChange:function(e){return v(e)},id:"name",type:"text",className:"validate",name:"name",required:!0}),r.a.createElement("label",{className:"active",htmlFor:"name"},"Name"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{value:f.surname,onChange:function(e){return v(e)},id:"surname",type:"text",className:"validate",name:"surname",required:!0}),r.a.createElement("label",{className:"active",htmlFor:"surname"},"Surname"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{value:f.desc,onChange:function(e){return v(e)},id:"description",type:"text",className:"validate",name:"desc",required:!0}),r.a.createElement("label",{className:"active",htmlFor:"description"},"Description"))),r.a.createElement("button",{className:"btn waves-effect waves-light",type:"submit",name:"action"},E?"Update the user":"Add new user"),r.a.createElement("button",{className:"btn waves-effect blue lighten-2 update__button--back",type:"button",name:"action",onClick:function(){u.push("/")}},"Back")))}))),U=[{url:"/r-list/",component:y},{url:"./new",component:S},{url:"./update/:id",component:S}];var _=function(){var e=U.map((function(e){return r.a.createElement(o.a,{key:Object(g.a)(),exact:!0,path:e.url,component:e.component})}));return r.a.createElement(i.a,null,r.a.createElement("main",{className:"app"},r.a.createElement(o.c,null,e)))},x=n(16),A=n(38),F={users:[]},P=Object(x.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return Object(C.a)(Object(C.a)({},e),{},{users:t.payload});default:return e}}),Object(x.a)(A.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(71),n(72);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:P},r.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.643e38fb.chunk.js.map